# Basic question to determine analysis flow

1. 分析の目的は?

-> 係数の大きさを比較することで，説明変数(特徴量)の影響の大きさを比べたい．まず，気象要因がHRVに有意に影響してるのかをみたい，そしてそれの比較をしたい．(解釈しやすいモデルが嬉しい)

__仮説__: HRV(特に自律神経を表せるやつ)に気象要因(気圧 etc.)が影響している．

2. どんなデータがinputでどんなデータがoutputになるの?

-> inputデータ
- 湿度系
    - 日平均蒸気圧 (hPa)
    - 日平均相対湿度 (%)
    - 日最小相対湿度 (%)
    - 日最小値の発生時刻 (option)

- 気圧系
    - 日平均現地気圧 (hPa)
    - 日平均海面気圧 (hPa)
    - 日最低海面気圧 (hPa)
    - 日最低海面気圧発生時刻 (option)

- 雨系
    - 降水量の日合計 (mm)
    - 1時間降水量の日最大 (mm)
    - 1時間降水量の日最大発生時刻 (option)

- 雪系
    - 日最深積雪 (cm)
    - 降雪量の日合計 (cm)
    - 日最深積雪発生時刻 (option, all null)

- 日光系
    - 日照時間 (時間)
    - 合計全天日射量 (MJ/m^2) (option, all null)

- 気温系
    - 日平均気温 (℃)
    - 日最高気温 (℃)
    - 日最高気温発生時間 (option)
    - 日最低気温 (℃)
    - 日最低気温発生時間 (option)

- 風系
    - 日平均風速 (m/s)
    - 日最大風速 (m/s)
    - 日最大風速発生時刻 (option)
    - 日最大風速風向 (東西南北)
    - 日瞬間最大風速 (m/s)
    - 日瞬間最大風速発生時刻 (option)
    - 日瞬間最大風速風向 (東西南北)
    - 日最多風向 (東西南北)

-> outputデータ
- HRV
    - Time domain
        - Heart rate (beats/min)
        - SDNN, RMSSD (msec)
        - pnn50 (%)
        - TINN (msec)
    - Frequency domain
        - VLF, LF, HF ($msec^2$)
        - LF/HF (%)
    - Non-linear domain
        - CD (-)
        - ApEn (-)
        - SD1, SD2 (msec)
        - SD1/SD2 (%)

3. それぞれのデータの特徴は?

-> inputデータ
- 時系列

-> outputデータ
- 時系列

4. いろいろある時系列モデルのそれぞれの特徴は?

- AR系
    - ちょっとシンプルすぎるかなー，あと外生変数が含まれないから係数の比較をしたい時には不適かなー．

- ARIMAX系
    - 外生変数含められていい感じ．SARIMAXだと長期的な季節変動も考慮できる．
    - 欠損値とかが難しいかなー．
- SSM
    - 柔軟
    - 欠損値をそのまま扱える
    - 観測の誤差を表現できるから，状態を真の身体の値だとして，そこから測定される心電図(そしてHRV)の値の変動，っていう一連の流れを表現できる．

    - モデルの決定が難しい?
    - 状態方程式，観測方程式の妥当な構築が難しい?

5. 1, 2, 3 を表現できるモデルは?
SSMかなー，モデル選択をどのように進める，妥当な方程式を組むためには?

6. 試してみよう
    - SSMとかBSTSの基礎知識
    - MCMCでのサンプリング原理
    - MCMCによるベイズ推定はどんな原理?
    - いい感じの状態，観測方程式を作りたい
        - 自己回帰項入れていいの?
    - モデル評価の方法
    - 感度分析?
